***
#cx的部分

##数据库介绍
<font size=3>1.had_reserve:这是最简单的一个数据库，仅存每个地点的已预约人数，权限设置为所有人可读写

2.reserve:这个数据库存每一个预约申请，主要用来获取个人已预约信息。此信息将有两个用途：一为在’我的预约‘界面展示，二为在预约界面确定哪些时间段是此人已预约过的以及此人在这一天已经预约了多少次。
预约过的时间段便不能再次预约，已预约的次数用来决定此人还能预约多少个时间段（每天最多四个时间段），权限设置为仅创建者可读写

3.place_ day_last：这个数据库存着某地点某天所有时间段剩余的可预约人数，在进入预约界面时连接，若查询到无该天的表，便创建一个（也就是说某天的表由该天的第一位使用者创建），查询到有该天的表便获取其中的数据，并显示在页面上，权限设置为所有人可读写
</font>

##流程介绍
<font size=3>1.进入场地选择界面，此界面功能较为简单，一为从云数据库had_reserve获取已预约人数并显示在页面上、二为将选择的地点作为参数传入预约界面（即所有地点的预约都用同两个界面，靠参数来确定预约的到底是哪个地点）

2.个人预约：个人只能预约下一天的场次，在进入页面后连接reserve与place_day_ last数据库获取明天可预约场次，若该天预约场次x少于4，则可再预约4-x场，若x=4，则所有checkbox处于不可选中状态（场次按天算，不按地点算，即地点1预约3场后地点2也只能预约1场）。预约信息提交时，将had_reserve数据库对应地点的已预约人数加一；将输入信息提交到reserve数据库；然后将place_day_ last数据库选择的时间段剩余人数减1；

3.团体预约：进入页面时连接reserve与place_ day_last数据库获取明天可预约场次，与个人预约不同的是，个人预约显示的剩余数量为0-30不等，而团体预约只显示0或1，即有1个人预约了的场地团体便不能预约，团体预约过的场地也禁止其他人预约，因此在提交信息时将place _day_ last数据库选择的时间段剩余人数设置为0，其余数据提交方式相同。

其次团体预约可预约的时间为4个星期，因此每次更换日期都要重新获取该日数据
</font>




	
